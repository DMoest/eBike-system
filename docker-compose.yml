version: "3"
networks:
    ebike:
services:
    ebike_backend:
        build: ./eBike-backend-laravel/backend
        env_file:
          - .env
        image: ebike/backend:latest
        container_name: "backend"
        ports:
            - "8000:8000"
        networks:
            ebike:
        restart:
            "always"
    ebike_seed:
        build: 
            context: eBike-backend-laravel/backend
            dockerfile: Dockerfile.seed
        env_file:
          - .env
        image: ebike/seed:latest
        container_name: "seed"
    ebike_simulator:
        build: ./eBike-controlsys-python
        image: ebike/bike_simulator:latest
        container_name: "bike_simulator"
        networks:
            ebike:
    ebike_frontend:
        build: ./eBike-frontend-react
        env_file:
          - .env
        image: ebike/frontend:latest
        container_name: "bike_frontend"
        ports:
            - "3000:3000"
        networks:
            ebike:
